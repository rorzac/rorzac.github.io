/**
* @author    JoomShaper http://www.joomshaper.com
* @copyright Copyright (C) 2010 - 2013 JoomShaper
* @license   http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2
*/
!function(t){var e={currentIndex:0,prevIndex:0,nextIndex:0,totalItems:0,settings:{},canvasWidth:0,canvasHeight:0,elements:"",prevIndex:function(){var t=this.currentIndex;return--t<0&&(t=this.totalItems-1),t},nextIndex:function(){var t=this.currentIndex;return++t>=this.totalItems&&(t=0),t},currentIndex:function(){return this.currentIndex},prev:function(){clearTimeout(this.autoplay),this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.totalItems-1,this.prevIndex=e.prevIndex.call(this));e.run.call(this)},next:function(){clearTimeout(this.autoplay),this.currentIndex++,this.currentIndex>=this.totalItems&&(this.currentIndex=0,this.nextIndex=e.nextIndex.call(this)),e.run.call(this)},play:function(){var t=this;this.autoplay=setTimeout((function(){e.next.call(t)}),1e3)},preloader:function(){var s=new Image,n=this.settings.preloadImages,a=this;if(1!=this.settings.showPreloader||n.length<1)t(this.settings.preloader).remove(),e.start.call(this),this.elements.trigger("onSlide");else{for(i=0;i<n.length;i++)s.src=n[i];t(s).load((function(){t(a.settings.preloader).fadeOut("fast",(function(){t(this).remove()})),e.start.call(a),a.elements.trigger("onSlide")}))}},autoplay:function(){var t=this;1==this.settings.autoplay&&(this.autoplay=setTimeout((function(){e.next.call(t)}),this.settings.interval))},pause:function(){clearTimeout(this.autoplay)},goTo:function(t){if(clearTimeout(this.autoplay),this.currentIndex==t)return!1;this.currentIndex=t,e.run.call(this)},run:function(){clearTimeout(this.delay),clearTimeout(this.autoplay);var s=this,i=this.items;i.each((function(){t(this).hasClass(s.settings.animateInClass)&&t(this).removeClass(s.settings.animateInClass).addClass(s.settings.animateOutClass)})),this.delay=setTimeout((function(){i.removeClass(s.settings.animateOutClass),i.eq(s.currentIndex).removeClass(s.settings.animateOutClass).addClass(s.settings.animateInClass),s.elements.trigger("onSlide")}),this.settings.delay),e.autoplay.call(this)},start:function(){clearTimeout(this.delay),clearTimeout(this.autoplay);var t=this,s=this.items;this.delay=setTimeout((function(){s.eq(t.currentIndex).removeClass(t.settings.animateOutClass).addClass(t.settings.animateInClass),t.elements.trigger("onSlide")}),this.settings.delay),e.autoplay.call(this)},resize:function(e){1==this.settings.fullWidth&&this.elements.height(t(window).width()*this.ratioHeight)},onSlide:function(t){var e=this;this.elements.bind("onSlide",(function(s){t(e.currentIndex,e.items,s)}))},init:function(e,s){this.currentIndex=0,this.elements=e,this.items=t(e).find(">*"),this.totalItems=this.items.length,this.settings=s;var i=this;this.items.each((function(e){t(this).addClass(i.settings.itemClassPrefix+(e+1))}))}};t.fn.spSmartslider=function(s,i){var n=t.extend({preloadImages:[],autoplay:!0,preloader:".sp-preloader",showPreloader:!0,interval:5e3,delay:500,itemClassPrefix:"item-",rWidth:0,rHeight:0,fullWidth:!1,animateInClass:"animate-in",animateOutClass:"animate-out"},s);return this.each((function(a,l){"string"==typeof s?e[s].call(this,i):(e.init.call(this,t(this),n),e.preloader.call(this),e.autoplay.call(this),e.resize.call(this))}))}}(jQuery);