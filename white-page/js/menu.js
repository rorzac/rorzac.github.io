/**
* @package Helix Framework
* @author JoomShaper http://www.joomshaper.com
* @copyright Copyright (c) 2010 - 2015 JoomShaper
* @license http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 or later
*/
!function(e){e.fn.spmenu=function(t){t=e.extend({startLevel:0,direction:"ltr",center:0,marginLeft:0,marginTop:0,width:200,initOffset:{x:0,y:0},subOffset:{x:0,y:0}},t);return this.each((function(){e(this).find(">li.menu-item.parent").each((function(s){var n=e(this),i=n.find(">.sp-submenu");if(!!n.closest("ul.sp-menu").hasClass("level-"+t.startLevel)){i.addClass("sub-level");var a=n.height()+t.marginTop,l=t.marginLeft;if(t.center)l=-i.width()/2+i.closest(".parent").width()/2;else{var o=(r=i.offset()).left+i.width(),u=e(window).width();if(u<o)var f=o-u;else if(r.left<0)f=-1*r.left;else f=0;l-=f}i.find(">.sp-submenu-wrap").css({"margin-top":t.initOffset.y,"margin-left":t.initOffset.x}),"rtl"==t.direction?i.css({top:a,right:l}):i.css({top:a,left:l})}else{i.addClass("sub-level-child");a=t.marginTop;var r=i.offset(),d=e(window).width(),h=i.outerWidth(!0),c=i.parent().outerWidth(!0),p=(o=i.width(),i.parent().width()),m=function(){return!(r.left<0)&&!(d<h+r.left+o)},b=function(){return"ltr"==t.direction?h>c?m()?c:o:c<h?p:h==c?h:t.width:h>c?m()?o:c:c<h?p:h==c?o:t.width};l="ltr"==t.direction?m()?b():-b():m()?-b():b(),i.find(">.sp-submenu-wrap").css({"margin-top":t.subOffset.y,"margin-left":t.subOffset.x}),"rtl"==t.direction?(i.css({top:0,right:0}),i.css({top:a,right:l})):(i.css({top:0,left:0}),i.css({top:a,left:l}))}n.on("mouseenter",(function(t){t.stopImmediatePropagation(),e(this).find(">.sp-submenu").removeClass("open"),e(this).find(">.sp-submenu").addClass("open")})),n.on("mouseleave",(function(t){e(this);e(this).find(">.sp-submenu").removeClass("open")}))}))}))}}(jQuery),function(e){e.fn.mobileMenu=function(t){var s=e.extend({defaultText:"Navigate to...",className:"select-menu",subMenuClass:"menu-item",subMenuDash:"-",appendTo:"#sp-mmenu"},t),n=e(this);return mobileMenu=e(s.appendTo),this.each((function(){n.find("ul").addClass(s.subMenuClass),e("<select />",{class:s.className}).appendTo(mobileMenu),e("<option />",{value:"#",text:s.defaultText}).appendTo("."+s.className),n.find("a").each((function(){var t=e(this),n="&nbsp;"+t.find("span.menu-title").text(),i=t.parents("."+s.subMenuClass).length;t.parents("ul").hasClass(s.subMenuClass)&&(n=Array(i+1).join(s.subMenuDash)+n),e("<option />",{value:this.href,html:n,selected:this.href==window.location.href}).appendTo("."+s.className)})),e("."+s.className).change((function(){"#"!==e(this).val()&&(window.location.href=e(this).val())}))})),this}}(jQuery);